%YAML 1.2
# Exp3 (CLIF arm): ICU-eligible hospitalizations only (cohort handled upstream),
# and a **matched-signal subset** intended to overlap with MEDS Exp3:
#   - Vitals
#   - Labs (results)
#
# We intentionally omit other CLIF tables (meds, procedures, SOFA, resp support, etc.)
# to minimize confounding from format-specific feature availability.
---
subject_id: hospitalization_id
group_id: patient_id

options:
    day_stay_filter: !!bool true # keep only hospitalizations >=24h in duration
    max_padded_len: !!int 1024
    quantizer: ventiles # 20 bins
    include_time_spacing_tokens: !!bool true
    fused_category_values: !!bool false

reference:
    table: clif_hospitalization
    start_time: admission_dttm
    end_time: discharge_dttm
    age: age_at_admission

    augmentation_tables:
        - table: clif_patient
          key: patient_id
          validation: "m:1"

times_qc:
    table: clif_vitals
    time: recorded_dttm

prefix:
    - column: race_category
      prefix: RACE

    - column: ethnicity_category
      prefix: ETHN

    - column: sex_category
      prefix: SEX

    - column: quantized_age

    - column: admission_type_name
      prefix: ADMN

events:
    # lab result available
    - table: clif_labs
      prefix: LAB-RES
      code: lab_category
      numeric_value: lab_value_numeric
      time: lab_result_dttm

    - table: clif_vitals
      prefix: VTL
      code: vital_category
      numeric_value: vital_value
      time: recorded_dttm

suffix:
    - column: discharge_category
      prefix: DSCG

